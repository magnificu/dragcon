<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Record Manager</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Drag Window -->
    <div id="drag-window" class="draggable">
        <div class="window-header">
            <span>Records</span>
            <button class="btn-close" onclick="document.getElementById('drag-window').style.display='none'"></button>
        </div>
        <div id="records-container">
            {% include 'records.html' %}
        </div>
        <div class="window-footer">
            <button class="btn btn-success btn-sm" onclick="createRecord()">New</button>
            <button class="btn btn-warning btn-sm" onclick="editRecord()">Edit</button>
            <button class="btn btn-danger btn-sm" onclick="deleteRecord()">Delete</button>
        </div>
    </div>

    <!-- Edit/Create Modal -->
    <div id="edit-modal" class="draggable modal-window" style="display: none;">
        <div class="window-header">
            <span id="edit-modal-title">Edit Record</span>
            <button class="btn-close" onclick="closeModal('edit-modal')"></button>
        </div>
        <div class="modal-body p-3">
            <div class="mb-2">
                <label>Name:</label>
                <input type="text" id="edit-name" class="form-control">
            </div>
            <div class="mb-2">
                <label>Image (PNG):</label>
                <input type="file" id="edit-image" class="form-control" accept=".png">
            </div>
            <div id="image-preview"></div> <!-- Preview selected image -->
        </div>
        <div class="window-footer">
            <button class="btn btn-primary btn-sm" onclick="saveEdit()">Save</button>
            <button class="btn btn-secondary btn-sm" onclick="closeModal('edit-modal')">Cancel</button>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="draggable modal-window" style="display: none;">
        <div class="window-header">
            <span>Delete Record</span>
            <button class="btn-close" onclick="closeModal('delete-modal')"></button>
        </div>
        <div class="modal-body p-3">
            Are you sure you want to delete this record?
        </div>
        <div class="window-footer">
            <button class="btn btn-danger btn-sm" onclick="confirmDelete()">OK</button>
            <button class="btn btn-secondary btn-sm" onclick="closeModal('delete-modal')">Cancel</button>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>
</html>
